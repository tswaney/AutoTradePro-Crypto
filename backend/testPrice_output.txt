
=== Running in LIVE mode ===
🧪 TEST_MODE: trades simulated (capped)
Peak-confirmation on BUY is DISABLED
Press CTRL+S for Status, CTRL+G for Grid, CTRL+C to exit


📌 Available Strategies:
 [1] Dynamic Regime Switching (1.0) - Auto-switches between DCA, Grid/Mean Reversion, and Accumulate based on market regime.
 [2] Dynamic Regime Switching + Profit Lock (2.0) - Switches regimes (DCA, Grid, Accumulate) AND auto-locks profits daily or when threshold reached.
 [3] Moderate Retain Mode (v1.1) - Grid strategy with moderate profit locking and cash reserve using config thresholds.
 [4] Moderate Retain Mode (2.1) - Grid-based trading with ATR-driven thresholds, 3-tick confirmations, and weighted grid entries
 [5] Moderate Retain Mode (3.0) - ATR-fallback thresholds, 2-of-3 tick confirmations, 3 grid levels, 7-period ATR lookback
 [6] Moderate Retain Mode (4.0) - Grid-based trading with ATR thresholds, 2-of-3 confirmations, weighted grid entries, plus 24h-average pullback buys (–10%) and flat profit sells (+5%).
 [7] Simple Buy Low/Sell High (1.1) - Buys when price dips below costBasis by baseBuyThreshold; sells when price rises above costBasis by baseSellThreshold; straightforward cost-basis gating.
 [8] Ultimate Safety Profit Strategy (1.0) - Adaptive regime, volatility scaling, profit lock, risk spread, and emergency brake.
[1G[0J
Select strategy [default 1]: [30G8
🧪 TEST_MODE: skipping BP fetch

Current Holdings:
┌────┬───────────┬─────────────────┬─────────────────┬───────────────┐
│ No │  Symbol   │    Quantity     │      Price      │   CostBasis   │
├────┼───────────┼─────────────────┼─────────────────┼───────────────┤
│ 1  │ BTCUSD    │ 0.037830        │ 118635.47504495 │ 117175.000000 │
│ 2  │ BONKUSD   │ 88281627.000000 │ 0.00002983      │ 0.000028      │
│ 3  │ ETHUSD    │ 0.719539        │ 3865.11254980   │ 3749.530000   │
│ 4  │ XLMUSD    │ 3922.680000     │ 0.42724555      │ 0.410510      │
│ 5  │ POPCATUSD │ 2234.040000     │ 0.34447165      │ 0.492500      │
│ 6  │ PEPEUSD   │ 81263652.000000 │ 0.00001163      │ 0.000023      │
│ 7  │ XRPUSD    │ 183.463075      │ 3.16958000      │ 3.100000      │
│ 8  │ TRUMPUSD  │ 26.144900       │ 9.44599755      │ 9.380000      │
│ 9  │ ADAUSD    │ 86.160000       │ 0.78774787      │ 1.114206      │
│ 10 │ SOLUSD    │ 0.260140        │ 182.58261620    │ 178.330000    │
│ 11 │ LTCUSD    │ 0.406823        │ 111.11890200    │ 139.670000    │
│ 12 │ DOGEUSD   │ 87.690905       │ 0.22530895      │ 0.397761      │
│ 13 │ SHIBUSD   │ 991179.420000   │ 0.00001316      │ 0.000014      │
│ 14 │ LINKUSD   │ 0.438797        │ 18.19693975     │ 17.310000     │
│ 15 │ AVAXUSD   │ 0.047000        │ 24.08990375     │ 24.000000     │
│ 16 │ COMPUSD   │ 0.019044        │ 47.88963035     │ 46.790000     │
└────┴───────────┴─────────────────┴─────────────────┴───────────────┘

=== STARTUP SUMMARY ===
Beginning Portfolio Value: $14344.95
🔄 Seeding initial cycle (no trades)...
[DEBUG][ETHUSD] Buy check: price=3865.1125498, costBasis=3749.53, trend=uptrend, atr=0.10314148571420187, buyThresh=1.5
📈 Strategy decision for ETHUSD: SELL @ $3865.11254980
[DEBUG][ETHUSD] price=3865.1125498, costBasis=3749.53, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for ETHUSD during seeding: SELL
[DEBUG][LTCUSD] Buy check: price=111.1210345, costBasis=139.67, trend=uptrend, atr=0.01, buyThresh=1.5
💤 Strategy decision for LTCUSD: HOLD @ $111.12103450
[DEBUG][LTCUSD] price=111.1210345, costBasis=139.67, trend=unknown, delta=n/a, atr=n/a
[DEBUG][BONKUSD] Buy check: price=0.000029835, costBasis=0.0000284, trend=uptrend, atr=0.01, buyThresh=1.5
💤 Strategy decision for BONKUSD: HOLD @ $0.00002984
[DEBUG][BONKUSD] price=0.000029835, costBasis=0.0000284, trend=unknown, delta=n/a, atr=n/a
[DEBUG][DOGEUSD] Buy check: price=0.225306495, costBasis=0.397761, trend=uptrend, atr=0.000001994285714290722, buyThresh=1.5
💤 Strategy decision for DOGEUSD: HOLD @ $0.22530649
[DEBUG][DOGEUSD] price=0.225306495, costBasis=0.397761, trend=unknown, delta=n/a, atr=n/a
[DEBUG][SHIBUSD] Buy check: price=0.00001316, costBasis=0.00001434, trend=uptrend, atr=0.01, buyThresh=1.5
💤 Strategy decision for SHIBUSD: HOLD @ $0.00001316
[DEBUG][SHIBUSD] price=0.00001316, costBasis=0.00001434, trend=unknown, delta=n/a, atr=n/a
[DEBUG][BTCUSD] Buy check: price=118635.92122995, costBasis=117175, trend=uptrend, atr=0.0014285714299018895, buyThresh=1.5
📈 Strategy decision for BTCUSD: SELL @ $118635.92122995
[DEBUG][BTCUSD] price=118635.92122995, costBasis=117175, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for BTCUSD during seeding: SELL
[DEBUG][ADAUSD] Buy check: price=0.787732955, costBasis=1.1142061, trend=uptrend, atr=0.0000029514285714452422, buyThresh=1.5
💤 Strategy decision for ADAUSD: HOLD @ $0.78773295
[DEBUG][ADAUSD] price=0.787732955, costBasis=1.1142061, trend=unknown, delta=n/a, atr=n/a
[DEBUG][XRPUSD] Buy check: price=3.16965, costBasis=3.1, trend=uptrend, atr=0.000025714285714200408, buyThresh=1.5
📈 Strategy decision for XRPUSD: SELL @ $3.16965000
[DEBUG][XRPUSD] price=3.16965, costBasis=3.1, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for XRPUSD during seeding: SELL
[DEBUG][XLMUSD] Buy check: price=0.42723015, costBasis=0.41051, trend=uptrend, atr=0.01, buyThresh=1.5
📈 Strategy decision for XLMUSD: SELL @ $0.42723015
[DEBUG][XLMUSD] price=0.42723015, costBasis=0.41051, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for XLMUSD during seeding: SELL
[DEBUG][PEPEUSD] Buy check: price=0.00001163, costBasis=0.00002342, trend=uptrend, atr=0.01, buyThresh=1.5
💤 Strategy decision for PEPEUSD: HOLD @ $0.00001163
[DEBUG][PEPEUSD] price=0.00001163, costBasis=0.00002342, trend=unknown, delta=n/a, atr=n/a
[DEBUG][POPCATUSD] Buy check: price=0.34447518, costBasis=0.4925, trend=uptrend, atr=2.8571428556389833e-9, buyThresh=1.5
💤 Strategy decision for POPCATUSD: HOLD @ $0.34447518
[DEBUG][POPCATUSD] price=0.34447518, costBasis=0.4925, trend=unknown, delta=n/a, atr=n/a
[DEBUG][SOLUSD] Buy check: price=182.58261545, costBasis=178.33, trend=uptrend, atr=0.01, buyThresh=1.5
📈 Strategy decision for SOLUSD: SELL @ $182.58261545
[DEBUG][SOLUSD] price=182.58261545, costBasis=178.33, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for SOLUSD during seeding: SELL
[DEBUG][COMPUSD] Buy check: price=47.88963035, costBasis=46.79, trend=uptrend, atr=0.01, buyThresh=1.5
📈 Strategy decision for COMPUSD: SELL @ $47.88963035
[DEBUG][COMPUSD] price=47.88963035, costBasis=46.79, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for COMPUSD during seeding: SELL
[DEBUG][AVAXUSD] Buy check: price=24.08990375, costBasis=24, trend=uptrend, atr=0.01, buyThresh=1.5
📈 Strategy decision for AVAXUSD: SELL @ $24.08990375
[DEBUG][AVAXUSD] price=24.08990375, costBasis=24, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for AVAXUSD during seeding: SELL
[DEBUG][LINKUSD] Buy check: price=18.19693975, costBasis=17.31, trend=uptrend, atr=0.01, buyThresh=1.5
📈 Strategy decision for LINKUSD: SELL @ $18.19693975
[DEBUG][LINKUSD] price=18.19693975, costBasis=17.31, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for LINKUSD during seeding: SELL
[DEBUG][TRUMPUSD] Buy check: price=9.44599755, costBasis=9.38, trend=uptrend, atr=0.01, buyThresh=1.5
📈 Strategy decision for TRUMPUSD: SELL @ $9.44599755
[DEBUG][TRUMPUSD] price=9.44599755, costBasis=9.38, trend=unknown, delta=n/a, atr=n/a
💤 Trade skipped for TRUMPUSD during seeding: SELL
✅ Initial cycle complete — trading now enabled.
[SEED] BONKUSD seeded with priceHistory=60, trendHistory=53, grid=[{"price":0.0000284,"amount":88281627,"time":1753956088375}], costBasis=0.0000284
[SEED] SHIBUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":0.00001434,"amount":991179.42,"time":1753956088375}], costBasis=0.00001434
[SEED] COMPUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":46.79,"amount":0.0190439760174337,"time":1753956088375}], costBasis=46.79
[SEED] ADAUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":1.1142061,"amount":86.16,"time":1753956088375}], costBasis=1.1142061
[SEED] POPCATUSD seeded with priceHistory=60, trendHistory=53, grid=[{"price":0.4925,"amount":2234.04,"time":1753956088375}], costBasis=0.4925
[SEED] SOLUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":178.33,"amount":0.26014,"time":1753956088375}], costBasis=178.33
[SEED] XLMUSD seeded with priceHistory=60, trendHistory=53, grid=[{"price":0.41051,"amount":3922.68,"time":1753956088375}], costBasis=0.41051
[SEED] LTCUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":139.67,"amount":0.40682263,"time":1753956088375}], costBasis=139.67
[SEED] TRUMPUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":9.38,"amount":26.1449,"time":1753956088375}], costBasis=9.38
[SEED] PEPEUSD seeded with priceHistory=60, trendHistory=53, grid=[{"price":0.00002342,"amount":81263652,"time":1753956088375}], costBasis=0.00002342
[SEED] AVAXUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":24,"amount":0.047,"time":1753956088375}], costBasis=24
[SEED] LINKUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":17.31,"amount":0.4387969694709001,"time":1753956088375}], costBasis=17.31
[SEED] DOGEUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":0.397761,"amount":87.69090496,"time":1753956088375}], costBasis=0.397761
[SEED] BTCUSD seeded with priceHistory=60, trendHistory=53, grid=[{"price":117175,"amount":0.03782988,"time":1753956088374}], costBasis=117175
[SEED] XRPUSD seeded with priceHistory=59, trendHistory=53, grid=[{"price":3.1,"amount":183.463075,"time":1753956088375}], costBasis=3.1
[SEED] ETHUSD seeded with priceHistory=60, trendHistory=53, grid=[{"price":3749.53,"amount":0.7195392675156308,"time":1753956088375}], costBasis=3749.53
[DEBUG][BTCUSD] Buy check: price=118696.00703595, costBasis=117175, trend=uptrend, atr=5.936410621428097, buyThresh=1.5
📈 Strategy decision for BTCUSD: SELL @ $118696.00703595
[DEBUG][BTCUSD] price=118696.00703595, costBasis=117175, trend=unknown, delta=n/a, atr=n/a
❌ SELL BLOCKED for BTCUSD: would yield non-positive profit ($-23.74)
[DEBUG][BONKUSD] Buy check: price=0.00002983, costBasis=0.0000284, trend=uptrend, atr=2.85714285714283e-9, buyThresh=1.5
📈 Strategy decision for BONKUSD: SELL @ $0.00002983
[DEBUG][BONKUSD] price=0.00002983, costBasis=0.0000284, trend=unknown, delta=n/a, atr=n/a
🔴 SELL executed: 88281626.990000 BONKUSD @ $0.00002983 P/L $73.57  Locked: $58.86

After SELL BONKUSD grid:
  [1] price=0.00002840, amount=0.010000, time=7/31/2025, 6:01:28 AM

After SELL BONKUSD grid:
  [1] price=0.00002840, amount=0.010000, time=7/31/2025, 6:01:28 AM
[DEBUG][ETHUSD] Buy check: price=3865.286329, costBasis=3749.53, trend=uptrend, atr=0.036274657142842316, buyThresh=1.5
📈 Strategy decision for ETHUSD: SELL @ $3865.28632900
[DEBUG][ETHUSD] price=3865.286329, costBasis=3749.53, trend=unknown, delta=n/a, atr=n/a
🔴 SELL executed: 0.709539 ETHUSD @ $3865.28632900 P/L $27.28  Locked: $21.82

After SELL ETHUSD grid:
  [1] price=3749.53000000, amount=0.010000, time=7/31/2025, 6:01:28 AM

After SELL ETHUSD grid:
  [1] price=3749.53000000, amount=0.010000, time=7/31/2025, 6:01:28 AM
[DEBUG][XLMUSD] Buy check: price=0.4273001, costBasis=0.41051, trend=uptrend, atr=0.000008325714285717378, buyThresh=1.5
📈 Strategy decision for XLMUSD: SELL @ $0.42730010
[DEBUG][XLMUSD] price=0.4273001, costBasis=0.41051, trend=unknown, delta=n/a, atr=n/a
🔴 SELL executed: 3922.670000 XLMUSD @ $0.42730010 P/L $32.33  Locked: $25.86

After SELL XLMUSD grid:
  [1] price=0.41051000, amount=0.010000, time=7/31/2025, 6:01:28 AM

After SELL XLMUSD grid:
  [1] price=0.41051000, amount=0.010000, time=7/31/2025, 6:01:28 AM
[DEBUG][POPCATUSD] Buy check: price=0.344571765, costBasis=0.4925, trend=uptrend, atr=0.000005185000000002786, buyThresh=1.5
💤 Strategy decision for POPCATUSD: HOLD @ $0.34457176
[DEBUG][POPCATUSD] price=0.344571765, costBasis=0.4925, trend=unknown, delta=n/a, atr=n/a
[DEBUG][PEPEUSD] Buy check: price=0.000011625, costBasis=0.00002342, trend=uptrend, atr=1.428571428571415e-9, buyThresh=1.5
💤 Strategy decision for PEPEUSD: HOLD @ $0.00001162
[DEBUG][PEPEUSD] price=0.000011625, costBasis=0.00002342, trend=unknown, delta=n/a, atr=n/a
[DEBUG][XRPUSD] Buy check: price=3.17088, costBasis=3.1, trend=uptrend, atr=0.00013142857142854427, buyThresh=1.5
📈 Strategy decision for XRPUSD: SELL @ $3.17088000
[DEBUG][XRPUSD] price=3.17088, costBasis=3.1, trend=unknown, delta=n/a, atr=n/a
🔴 SELL executed: 183.453075 XRPUSD @ $3.17088000 P/L $1.37  Locked: $1.10

After SELL XRPUSD grid:
  [1] price=3.10000000, amount=0.010000, time=7/31/2025, 6:01:28 AM

After SELL XRPUSD grid:
  [1] price=3.10000000, amount=0.010000, time=7/31/2025, 6:01:28 AM
[DEBUG][TRUMPUSD] Buy check: price=9.450502, costBasis=9.38, trend=uptrend, atr=0.0006434928571429513, buyThresh=1.5
📈 Strategy decision for TRUMPUSD: SELL @ $9.45050200
[DEBUG][TRUMPUSD] price=9.450502, costBasis=9.38, trend=unknown, delta=n/a, atr=n/a
❌ SELL BLOCKED for TRUMPUSD: would yield non-positive profit ($-3.10)
[DEBUG][ADAUSD] Buy check: price=0.787791815, costBasis=1.1142061, trend=uptrend, atr=0.00000849428571428731, buyThresh=1.5
💤 Strategy decision for ADAUSD: HOLD @ $0.78779181
[DEBUG][ADAUSD] price=0.787791815, costBasis=1.1142061, trend=unknown, delta=n/a, atr=n/a
[DEBUG][SOLUSD] Buy check: price=182.6033515, costBasis=178.33, trend=uptrend, atr=0.0029623714285703174, buyThresh=1.5
📈 Strategy decision for SOLUSD: SELL @ $182.60335150
[DEBUG][SOLUSD] price=182.6033515, costBasis=178.33, trend=unknown, delta=n/a, atr=n/a
🔴 SELL executed: 0.250140 SOLUSD @ $182.60335150 P/L $0.15  Locked: $0.12

After SELL SOLUSD grid:
  [1] price=178.33000000, amount=0.010000, time=7/31/2025, 6:01:28 AM

After SELL SOLUSD grid:
  [1] price=178.33000000, amount=0.010000, time=7/31/2025, 6:01:28 AM
[DEBUG][LTCUSD] Buy check: price=111.17558485, costBasis=139.67, trend=uptrend, atr=0.007792907142859106, buyThresh=1.5
💤 Strategy decision for LTCUSD: HOLD @ $111.17558485
[DEBUG][LTCUSD] price=111.17558485, costBasis=139.67, trend=unknown, delta=n/a, atr=n/a
[DEBUG][DOGEUSD] Buy check: price=0.225282425, costBasis=0.397761, trend=uptrend, atr=0.0000047307142857143185, buyThresh=1.5
💤 Strategy decision for DOGEUSD: HOLD @ $0.22528243
[DEBUG][DOGEUSD] price=0.225282425, costBasis=0.397761, trend=unknown, delta=n/a, atr=n/a
[DEBUG][SHIBUSD] Buy check: price=0.00001316, costBasis=0.00001434, trend=uptrend, atr=7.142857142858285e-10, buyThresh=1.5
💤 Strategy decision for SHIBUSD: HOLD @ $0.00001316
[DEBUG][SHIBUSD] price=0.00001316, costBasis=0.00001434, trend=unknown, delta=n/a, atr=n/a
[DEBUG][LINKUSD] Buy check: price=18.19641065, costBasis=17.31, trend=uptrend, atr=0.00015907142857126848, buyThresh=1.5
📈 Strategy decision for LINKUSD: SELL @ $18.19641065
[DEBUG][LINKUSD] price=18.19641065, costBasis=17.31, trend=unknown, delta=n/a, atr=n/a
🔴 SELL executed: 0.428797 LINKUSD @ $18.19641065 P/L $0.23  Locked: $0.18

After SELL LINKUSD grid:
  [1] price=17.31000000, amount=0.010000, time=7/31/2025, 6:01:28 AM

After SELL LINKUSD grid:
  [1] price=17.31000000, amount=0.010000, time=7/31/2025, 6:01:28 AM
[DEBUG][AVAXUSD] Buy check: price=24.09, costBasis=24, trend=uptrend, atr=0.000013749999999796663, buyThresh=1.5
📈 Strategy decision for AVAXUSD: SELL @ $24.09000000
[DEBUG][AVAXUSD] price=24.09, costBasis=24, trend=unknown, delta=n/a, atr=n/a
❌ SELL BLOCKED for AVAXUSD: would yield non-positive profit ($-0.02)
[DEBUG][COMPUSD] Buy check: price=47.90954635, costBasis=46.79, trend=uptrend, atr=0.002845142857143149, buyThresh=1.5
📈 Strategy decision for COMPUSD: SELL @ $47.90954635
[DEBUG][COMPUSD] price=47.90954635, costBasis=46.79, trend=unknown, delta=n/a, atr=n/a
❌ SELL BLOCKED for COMPUSD: would yield non-positive profit ($0.00)
🔒 PROFIT LOCKED: $107.94 moved to locked cash. [7/31/2025, 6:02:00 AM]

=== REALIZED P/L STATUS ===
Buys:     0
Sells:    6
StopLoss: 0
Realized Profit:   $26.99 (avg $4.50)
Unrealized P/L:   $64.99
Cash: $7553.60, Crypto: $6640.46, Locked: $215.88

=== TOTAL PORTFOLIO SUMMARY ===
